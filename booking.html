<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Your Flight</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <nav>
    <div class="nav__logo">Fly Dream Air</div>
    <ul class="nav__links">
      <li class="link"><a href="index.html">Home</a></li>
      <li class="link"><a href="about.html">About</a></li>
      <li class="link"><a href="manage.html">Manage Booking</a></li>
    </ul>
    <button class="btn">Contact</button>
  </nav>
  <header class="section__container header__container">
    <h1 class="section__header">Flight Details</h1>
    <div id="flight-results" class="mt-5"></div>
  </header>

  <footer class="text-center py-4">
    <div class="container">
      <p>&copy; 2024 Fly Dream Airlines. All rights reserved.</p>
    </div>
  </footer>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
  $(document).ready(function() {
    const params = new URLSearchParams(window.location.search);
    const from = params.get('from');
    const to = params.get('to');

    $('#flight-results').html(`<h2>From: ${from}</h2><h2>To: ${to}</h2>`);

    fetch(`flight_details.txt?${new Date().getTime()}`) // Cache buster
      .then(response => response.text())
      .then(data => {
        const details = data.trim().split('\n');
        let flightDetails = '<h3>Flight Details</h3>';

        details.forEach(detail => {
          const [route, info] = detail.split(': ');
          const [fromCity, toCity] = route.split('-');
          const [date, price] = info.split(', ');

          if (fromCity === from && toCity === to) {
            flightDetails += `
              <p><strong>From:</strong> ${fromCity}</p>
              <p><strong>To:</strong> ${toCity}</p>
              <p><strong>Date:</strong> ${date}</p>
              <p><strong>Price:</strong> ${price}</p>
            `;
          }
        });

        $('#flight-results').append(flightDetails);
      })
      .catch(error => console.error('Error loading flight details:', error));
  });
</script>
</body>
</html>
